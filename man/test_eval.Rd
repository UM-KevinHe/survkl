% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/test_eval.R
\name{test_eval}
\alias{test_eval}
\title{Evaluate model performance on test data}
\usage{
test_eval(
  test_z = NULL,
  test_RS = NULL,
  test_delta,
  test_time,
  test_stratum = NULL,
  betahat = NULL,
  criteria = c("loss", "CIndex")
)
}
\arguments{
\item{test_z}{Optional numeric matrix or data frame of covariates for the test dataset.
Required if \code{test_RS} is not provided.}

\item{test_RS}{Optional numeric vector of pre-computed risk scores (e.g., linear predictors).
If provided, \code{test_z} and \code{betahat} are ignored.}

\item{test_delta}{Numeric vector of event indicators (1 = event, 0 = censored).}

\item{test_time}{Numeric vector of survival times for the test dataset.}

\item{test_stratum}{Optional vector indicating stratum membership for each test observation.
If \code{NULL}, all observations are assumed to belong to a single stratum.}

\item{betahat}{Optional numeric vector of estimated regression coefficients.
Required if \code{test_RS} is not provided.}

\item{criteria}{Character string specifying the evaluation criterion; one of:
\itemize{
\item \code{"loss"}: negative twice the log–partial-likelihood.
\item \code{"CIndex"}: concordance index.
}}
}
\value{
A numeric value representing either:
\itemize{
\item if \code{criteria = "loss"}: the negative twice log–partial-likelihood on the test data.
\item if \code{criteria = "CIndex"}: the concordance index on the test data.
}
}
\description{
Evaluates model performance on a test dataset using either the
log-partial-likelihood loss or the concordance index (C-index).

This function accepts either:
\itemize{
\item \code{test_z} and \code{betahat}, which will be multiplied to obtain risk scores; or
\item \code{test_RS}, a pre-computed numeric vector of risk scores.
}
}
\details{
Prior to evaluation, observations are sorted by \emph{(stratum, time)} to ensure correct
risk-set construction. For stratified C-index computation, the provided \code{test_stratum}
is used; otherwise all test data are treated as a single stratum.

You may supply either covariates and coefficients (\code{test_z} with \code{betahat})
or a precomputed risk score vector (\code{test_RS}). When \code{test_RS} is provided,
\code{test_z} and \code{betahat} are ignored.
}
